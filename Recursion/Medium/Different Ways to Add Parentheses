import java.util.*;

class Solution {

    static List<Character> op = new ArrayList<>(Arrays.asList('+', '-', '*'));
    static List<Integer> answer = new ArrayList<>();

    public List<Integer> diffWaysToCompute(String expression) {
        List<Integer> answer = new ArrayList<>();
        for(int i = 0; i < expression.length(); ++i) {
            // i번째에서 연산자 포함할 경우만 좌우 분할을 진행한다
            if(!op.contains(expression.charAt(i))) continue;
            // i번째가 연산자이므로 0 ~ i - 1, i + 1 ~ len 과 같이 분할
            List<Integer> left = diffWaysToCompute(expression.substring(0, i));
            List<Integer> right = diffWaysToCompute(expression.substring(i + 1));
            // 0부터 i까지의 수식에서 나올 수 있는 모든 경우의 수
            for(int l : left) {
                // i + 1부터 끝까지의 수식에서 나올 수 있는 모든 경우의 수
                for(int r : right) {
                    answer.add(calculate(l, r, expression.charAt(i)));
                }
            }
        }
        if(answer.isEmpty()) answer.add(Integer.parseInt(expression));
        return answer;
    }

    static int calculate(int a, int b, char oper) {
        switch(oper) {
            case '+': return a + b;
            case '-': return a - b;
            default: return a * b;
        }
    }
}
